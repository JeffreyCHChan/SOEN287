 <!--Bogdan Podariu 40156514-->
<!DOCTYPE html>
<html lang="en" xmlns:>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="Cartstyle.css">
    <link rel="stylesheet" type="text/css" href="items.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Shoping_cart</title>
    <style>


    </style>
</head>
<header>

    <nav class="navbar">
        <div class="brand-title"><a href="MainPage.html"><img src="images/AtoZMarketPlace.jpg"></a></div>
        <a href="#" class="toggle-button">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>

        </a>
        <div class="navbar-links">
            <ul>
                <select onchange="window.location.href=this.value" style="color:white; background-color: rgb(82,79,79);">
                    <option>Select Aisle</option>
                    <option value="Beverages.html">Beverages</option>
                    <option value="Fruits.html">Fruits</option>
                    <option value="Vegetables.html">Vegetables</option>
                    <option value="BakedGoods.html">Baked Goods</option>
                    <option value="Meats.html">Meats</option>
                </select>
                <li><a href="signin.html"><i class="fa fa-unlock-alt" ></i> Login</a></li>
                <li><a href="Shoppingcart.html"><i class="fa fa-shopping-cart" ></i> My Cart</a></li>

            </ul>
        </div>

    </nav>

</header>
<body>
<div class="row desk">
<div class="grid-container">
    <div class="item1">
    
            <h1 class="white">Shopping cart</h1>
    </div>
</div>
    <div class="col-4 checkout">
        <p>
            <pre>
        CHECKOUT:
          TPS: <span id="tps"></span>$
        + TVQ: <span id="tvq"></span>$
        price: <span id="summ"></span>$
        __________
        Tot: <span id="tot"></span>$

    </pre>

        </p>

    </div>
    <div class="col-7 menu">
        <ul id="myUL">
        </ul>
    </div>
</div>
<div class="row">
    <div class="col-6" style="text-align: center">
        <button class="btn2">Continue shopping</button>

    </div>
    <div class="col-6"style="text-align: center">
        <h1 class="white">Number of Items: <span id="count"></span> </h1>
    </div>
</div>

<script>
var mainarr=new Array();
   var sum=0;
   var TPS;
   var TVQ;
   var TOT;

  let counter = 0;
function item(category_param, product_param, unit_price, quantity_param) {
    this.category = category_param;
    this.product = product_param;

    this.price = unit_price * quantity_param;

    this.quantity = quantity_param;
    counter++;
}

let listofprod = new Array();
listofprod.push(new item("meat", "beef", 4.99, 2));
listofprod.push(new item("meat", "chicken wings", 11.99, 2));
listofprod.push(new item("baked_good", "baguette", 1.99, 2));
listofprod.push(new item("vegetables", "English Cucumber", 2.99, 2));

function displaytext(index) {
    return "Item: "+listofprod[index].product +",   "+ " Price: "+ listofprod[index].price+"$";
}



function displaylist(){
var i;

    for(i=0;i<listofprod.length;i++){

        var li = document.createElement("li");
        mainarr.push(li)
        var t = document.createTextNode(displaytext(i));
        var d=document.createElement("div");
        var d2=document.createElement("div");
        d.className="col1";
        d2.className="col2";
        d.appendChild(t);
        li.appendChild(d);
        var button= document.createElement("BUTTON");
        var txt = document.createTextNode("Delete");
        button.appendChild(txt);
        button.className = "btn";
        d2.appendChild(button)
        li.appendChild(button);
        if(listofprod[i].category=="meat"){
        li.style.backgroundColor="rgba(255,99,71,0.8)";
        li.onmouseover=function(){
        this.style.backgroundColor="rgba(255,99,71,0.95)";}
        li.onmouseout=function(){
        this.style.backgroundColor="rgba(255,99,71,0.8)";}
        }

        else if(listofprod[i].category=="baked_good"){
        li.style.backgroundColor="rgba(245,222,179,0.8)";
        li.onmouseover=function(){
        this.style.backgroundColor="rgba(245,222,179,0.95)";}
        li.onmouseout=function(){
        this.style.backgroundColor="rgba(245,222,179,0.8)";}
        }

        else if(listofprod[i].category=="vegetables"){
        li.style.backgroundColor="rgba(0,255,127,0.8)";
        li.onmouseover=function(){
        this.style.backgroundColor="rgba(0,255,127,0.95)";}
        li.onmouseout=function(){
        this.style.backgroundColor="rgba(0,255,127,0.8)";}
        }

        document.getElementById("myUL").appendChild(li);
    }
    }

    displaylist();


    function computesum(){
    var j;
    for(j=0;j<listofprod.length;j++){
    sum=sum+listofprod[j].price;
        }
    document.getElementById("summ").innerHTML=sum.toFixed(2);
    }


    function computetps(){

    TPS=sum*0.05
    document.getElementById("tps").innerHTML=TPS.toFixed(2);
    }


    function computetvq(){
    TVQ=sum*0.0975
    document.getElementById("tvq").innerHTML=TVQ.toFixed(2);
    }

    function computetot(){
    TOT=sum+TPS+TVQ
    document.getElementById("tot").innerHTML=TOT.toFixed(2);
    }

   document.getElementById("count").innerHTML=counter;








    computesum();
    computetps();
    computetvq();
    computetot();


var close = document.getElementsByClassName("btn");
    var i;
    for (i = 0; i < close.length; i++) {
    close[i].onclick = function() {
    var div = this.parentElement;
    var ind=mainarr.indexOf(div);
    sum=sum-listofprod[ind].price;
    delete listofprod[ind];
    div.style.display = "none";
    counter--;
    document.getElementById("summ").innerHTML=sum.toFixed(2);
    computetps();
    computetvq();
    computetot();
    document.getElementById("count").innerHTML=counter;

    }
    }











    </script>






</body>
</html>